{"ast":null,"code":"var _jsxFileName = \"/Users/rhythmjain/Documents/Endsem-Project-Hotstar-Clone---EndSem-Project-Hotstar-Clone---rxs5sxsrjs5r/src/Components/AllShows.js\",\n  _s = $RefreshSig$();\nimport { useNavigate } from \"react-router-dom\";\nimport { useState, useEffect, useContext } from \"react\";\nimport apiContextProvider from \"./Context.js\";\nimport styles from \"../css/AllShows.module.css\";\nimport MovieCarousel from \"./MovieCarousel.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AllShows() {\n  _s();\n  const valueFromContext = useContext(apiContextProvider);\n  const navigate = useNavigate();\n  const [limit, setLimit] = useState(110);\n  const [categoryList, setCategoryList] = useState([]);\n  const [movies, setMovies] = useState({});\n  useEffect(() => {\n    async function fetchCategoryList() {\n      let res = await fetch(\"https://academics.newtonschool.co/api/v1/ottx/categories\", {\n        method: \"GET\",\n        headers: {\n          'accept': \"application/json\",\n          'projectID': valueFromContext.projectId\n        }\n      });\n      let data = await res.json();\n      if (data.message == 'success') {\n        setCategoryList(data.data);\n      } else {\n        navigate('/error');\n      }\n    }\n    fetchCategoryList();\n  }, []);\n  useEffect(() => {\n    async function fetchMovies() {\n      let moviesData = await fetch(`https://academics.newtonschool.co/api/v1/ottx/show?limit=${limit}`, {\n        method: \"GET\",\n        headers: {\n          'accept': \"application/json\",\n          'projectID': valueFromContext.projectId\n        }\n      });\n      let movie = await moviesData.json();\n      if (movie.status === 'success') {\n        let categoryWiseMovieList = {};\n        categoryList.forEach(category => {\n          const list = movie.data.filter(m => m.type == category);\n          categoryWiseMovieList[category] = list;\n        });\n        setMovies({\n          ...categoryWiseMovieList\n        });\n      } else {\n        navigate('/error');\n      }\n    }\n    fetchMovies();\n  }, [categoryList]);\n  if (Object.keys(movies).length != 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.shows,\n      children: categoryList.map(category => {\n        const movieList = movies[category];\n        if (movieList) {\n          return /*#__PURE__*/_jsxDEV(MovieCarousel, {\n            category: category,\n            movieList: movies[category]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this);\n        }\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: styles.loading,\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this);\n  }\n}\n_s(AllShows, \"rpL+tEQC+tSiklvkGMpQgWqCJmw=\", false, function () {\n  return [useNavigate];\n});\n_c = AllShows;\nvar _c;\n$RefreshReg$(_c, \"AllShows\");","map":{"version":3,"names":["useNavigate","useState","useEffect","useContext","apiContextProvider","styles","MovieCarousel","jsxDEV","_jsxDEV","AllShows","_s","valueFromContext","navigate","limit","setLimit","categoryList","setCategoryList","movies","setMovies","fetchCategoryList","res","fetch","method","headers","projectId","data","json","message","fetchMovies","moviesData","movie","status","categoryWiseMovieList","forEach","category","list","filter","m","type","Object","keys","length","className","shows","children","map","movieList","fileName","_jsxFileName","lineNumber","columnNumber","loading","_c","$RefreshReg$"],"sources":["/Users/rhythmjain/Documents/Endsem-Project-Hotstar-Clone---EndSem-Project-Hotstar-Clone---rxs5sxsrjs5r/src/Components/AllShows.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport { useState, useEffect, useContext } from \"react\";\nimport apiContextProvider from \"./Context.js\";\nimport styles from \"../css/AllShows.module.css\";\nimport MovieCarousel from \"./MovieCarousel.js\";\n\nexport default function AllShows(){\n    const valueFromContext = useContext(apiContextProvider);\n    const navigate = useNavigate();\n    const [limit, setLimit] = useState(110);\n    const [categoryList, setCategoryList] = useState([]);\n    const [movies, setMovies] = useState({});\n\n    useEffect(()=>{\n        async function fetchCategoryList(){\n            let res = await fetch(\"https://academics.newtonschool.co/api/v1/ottx/categories\",{\n                method: \"GET\",\n                headers: {\n                    'accept' : \"application/json\",\n                    'projectID' : valueFromContext.projectId,\n                }\n    \n            });\n            let data = await res.json();\n            if(data.message == 'success'){\n                setCategoryList(data.data);\n\n            }\n            else{\n                navigate('/error');\n            }\n        }\n        fetchCategoryList();\n    },[])\n    useEffect(()=>{\n        async function fetchMovies(){\n\n            let moviesData = await fetch(`https://academics.newtonschool.co/api/v1/ottx/show?limit=${limit}`,{\n                method: \"GET\",\n                headers: {\n                    'accept' : \"application/json\",\n                    'projectID' : valueFromContext.projectId,\n                }\n            });\n            let movie = await moviesData.json();\n            if(movie.status === 'success'){\n                let categoryWiseMovieList = {};\n                categoryList.forEach((category)=>{\n                    const list = movie.data.filter((m)=>m.type == category);\n                    categoryWiseMovieList[category] = list;\n                })\n                setMovies({...categoryWiseMovieList});                    \n            }\n            else{\n                navigate('/error');\n            }\n        }\n        fetchMovies();\n    },[categoryList])\n    if(Object.keys(movies).length != 0){\n        return(\n            <div className={styles.shows}>\n                {categoryList.map((category)=>{\n                    const movieList = movies[category];\n                    if(movieList){\n                        return(\n                            <MovieCarousel category={category} movieList={movies[category]}/>    \n                            )\n                        }\n                    })}\n            </div>\n        )\n    }\n    else{\n        return(\n            <h1 className={styles.loading}>Loading...</h1>\n        )\n    }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}