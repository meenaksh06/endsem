{"ast":null,"code":"var _jsxFileName = \"/Users/rhythmjain/Documents/Endsem-Project-Hotstar-Clone---EndSem-Project-Hotstar-Clone---rxs5sxsrjs5r/src/Components/Login.js\",\n  _s = $RefreshSig$();\nimport { useState, useContext } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEye, faEyeSlash } from '@fortawesome/free-solid-svg-icons';\nimport styles from \"../css/Login.module.css\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport apiContextProvider from \"./Context.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const valueFromContext = useContext(apiContextProvider);\n  const navigate = useNavigate();\n  const [error, setError] = useState(\"\");\n  const [visible, setVisible] = useState(false);\n  const [credentials, setCredentials] = useState({\n    email: \"\",\n    password: \"\",\n    appType: \"ott\"\n  });\n  const handleLogin = () => {\n    // navigate(\"/\");\n    async function check() {\n      let res = await fetch(\"https://academics.newtonschool.co/api/v1/user/login\", {\n        method: \"POST\",\n        headers: {\n          'accept': \"application/json\",\n          'projectID': valueFromContext.projectId,\n          'Content-Type': \"application/json\"\n        },\n        body: JSON.stringify(credentials)\n      });\n      let data = await res.json();\n      if (data.status == \"success\") {\n        setError(\"\");\n        valueFromContext.username = data.data.user.name;\n        valueFromContext.email = credentials.email;\n        valueFromContext.password = credentials.password;\n        valueFromContext.jwt = data.token;\n        navigate(\"/\");\n      } else {\n        setError(() => {\n          return data.message;\n        });\n      }\n    }\n    check();\n  };\n  return (\n    /*#__PURE__*/\n    // <div className={styles.login}>\n    _jsxDEV(\"div\", {\n      className: styles.block,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: styles.h2,\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: styles.input,\n          value: credentials.email,\n          onChange: e => {\n            setCredentials(prev => {\n              return {\n                ...prev,\n                email: e.target.value\n              };\n            });\n          },\n          type: \"email\",\n          placeholder: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles.input,\n            value: credentials.password,\n            onChange: e => {\n              setCredentials(prev => {\n                return {\n                  ...prev,\n                  password: e.target.value\n                };\n              });\n            },\n            type: \"password\",\n            placeholder: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.p,\n        style: {\n          color: \"red\",\n          fontSize: \"2vh\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.button,\n        onClick: handleLogin,\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.p,\n        children: [\"New to JioCinema? \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.span,\n          onClick: () => {\n            return navigate(\"/signup\");\n          },\n          children: \"Sign Up here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 60\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)\n\n    // </div>\n  );\n}\n_s(Login, \"1a0s81nUGe7NVnILugRA0PoJNPg=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useContext","FontAwesomeIcon","faEye","faEyeSlash","styles","NavLink","useNavigate","apiContextProvider","jsxDEV","_jsxDEV","Login","_s","valueFromContext","navigate","error","setError","visible","setVisible","credentials","setCredentials","email","password","appType","handleLogin","check","res","fetch","method","headers","projectId","body","JSON","stringify","data","json","status","username","user","name","jwt","token","message","className","block","children","h2","fileName","_jsxFileName","lineNumber","columnNumber","input","value","onChange","e","prev","target","type","placeholder","style","display","p","color","fontSize","button","onClick","span","_c","$RefreshReg$"],"sources":["/Users/rhythmjain/Documents/Endsem-Project-Hotstar-Clone---EndSem-Project-Hotstar-Clone---rxs5sxsrjs5r/src/Components/Login.js"],"sourcesContent":["import { useState, useContext } from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEye, faEyeSlash } from '@fortawesome/free-solid-svg-icons'\nimport styles from \"../css/Login.module.css\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\n\nimport apiContextProvider from \"./Context.js\";\n\nexport default function Login(){\n    const valueFromContext = useContext(apiContextProvider);\n    const navigate = useNavigate();\n    const [error, setError] = useState(\"\")\n    const [visible, setVisible] = useState(false);\n    const [credentials, setCredentials] = useState({\n        email:\"\",\n        password:\"\",\n        appType:\"ott\"\n    })\n    const handleLogin = ()=>{\n        // navigate(\"/\");\n        async function check(){\n            let res = await fetch(\"https://academics.newtonschool.co/api/v1/user/login\",{\n                method: \"POST\",\n                headers:{\n                    'accept' : \"application/json\",\n                    'projectID' : valueFromContext.projectId,\n                    'Content-Type': \"application/json\"\n                },\n                body: JSON.stringify(credentials)\n            })\n            let data = await res.json()\n            if(data.status == \"success\"){\n                setError(\"\");\n                valueFromContext.username = data.data.user.name;\n                valueFromContext.email = credentials.email;\n                valueFromContext.password = credentials.password;\n                valueFromContext.jwt = data.token;\n                navigate(\"/\");\n            }\n            else{\n                setError(()=>{\n                    return data.message;\n                })\n            }\n        }\n        check();\n    }\n\n    return(\n        // <div className={styles.login}>\n\n            <div className={styles.block}>\n                <h2 className={styles.h2}>Sign In</h2>\n                <form>\n            \n                    <input className={styles.input} value={credentials.email} onChange={(e)=>{\n                        setCredentials((prev)=>{\n                            return{...prev, email:e.target.value};\n                        })\n                    }} type='email' placeholder='Email'/>\n                    <div style={{\n                        display:\"flex\",\n                    }}>\n\n                        <input className={styles.input} value={credentials.password} onChange={(e)=>{\n                            setCredentials((prev)=>{\n                                return{...prev, password:e.target.value};\n                            })\n                        }} type=\"password\" placeholder='Password'/>\n                        \n                    </div>\n                </form>\n                <p className={styles.p} style={{\n                    color:\"red\",\n                    fontSize:\"2vh\"\n                }}>{error}</p>\n                <button className={styles.button} onClick={handleLogin}>Sign In</button>\n                <p className={styles.p} >New to JioCinema? <span className={styles.span} onClick={()=>{\n                    return navigate(\"/signup\")\n                }}>Sign Up here.</span></p>\n                \n            </div>\n\n\n        // </div>\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}