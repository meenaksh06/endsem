{"ast":null,"code":"var _jsxFileName = \"/Users/rhythmjain/Documents/Endsem-Project-Hotstar-Clone---EndSem-Project-Hotstar-Clone---rxs5sxsrjs5r/src/Components/DescriptionPage.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styles from \"../css/Description.module.css\";\nimport apiContextProvider from \"./Context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Description() {\n  _s();\n  const navigate = useNavigate();\n  const valueFromContext = useContext(apiContextProvider);\n  valueFromContext.jwt = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NGEwMmQ1NWI5ODUwYTAyNzk4NWMwYyIsImlhdCI6MTcxNjEyNjU0OCwiZXhwIjoxNzQ3NjYyNTQ4fQ.Vbl0yhhjXRbJap3Dd3qs_NFN1mxLIZ2Ib_yXF630TmQ\";\n  const [detail, setDetail] = useState(null);\n  const [id, setId] = useState(\"64cffee700bad552e8dcd509\");\n  useEffect(() => {\n    const url = window.location.pathname.split(\"/\");\n    setId(url[url.length - 1]);\n    if (id) {\n      async function dataFromApi() {\n        const data = await fetch(`https://academics.newtonschool.co/api/v1/ottx/show/${id}`, {\n          method: \"GET\",\n          headers: {\n            'accept': \"application/json\",\n            'projectID': valueFromContext.projectId,\n            'Authorization': `Bearer ${valueFromContext.jwt}`\n          }\n        });\n        let res = await data.json();\n        if (res.status == \"success\") {\n          setDetail(res);\n        } else {\n          // navigate(\"/error\");\n        }\n      }\n      dataFromApi();\n    }\n  }, []);\n  if (detail) {\n    console.log(detail);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.poster,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: styles.image,\n        src: detail.data.thumbnail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this);\n  }\n}\n_s(Description, \"1u9ngzWM8wzhJi3RqkNrDrlLG50=\", false, function () {\n  return [useNavigate];\n});\n_c = Description;\nvar _c;\n$RefreshReg$(_c, \"Description\");","map":{"version":3,"names":["useState","useEffect","useContext","useNavigate","styles","apiContextProvider","jsxDEV","_jsxDEV","Description","_s","navigate","valueFromContext","jwt","detail","setDetail","id","setId","url","window","location","pathname","split","length","dataFromApi","data","fetch","method","headers","projectId","res","json","status","console","log","className","poster","children","image","src","thumbnail","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/rhythmjain/Documents/Endsem-Project-Hotstar-Clone---EndSem-Project-Hotstar-Clone---rxs5sxsrjs5r/src/Components/DescriptionPage.js"],"sourcesContent":["import { useState, useEffect, useContext } from \"react\"\nimport { useNavigate } from \"react-router-dom\";\nimport styles from \"../css/Description.module.css\";\n\nimport apiContextProvider from \"./Context\";\nexport default function Description(){\n    const navigate = useNavigate();\n    const valueFromContext = useContext(apiContextProvider);\n    valueFromContext.jwt = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2NGEwMmQ1NWI5ODUwYTAyNzk4NWMwYyIsImlhdCI6MTcxNjEyNjU0OCwiZXhwIjoxNzQ3NjYyNTQ4fQ.Vbl0yhhjXRbJap3Dd3qs_NFN1mxLIZ2Ib_yXF630TmQ\";\n    const [detail, setDetail] = useState(null);\n    const [id,setId] = useState(\"64cffee700bad552e8dcd509\");\n    useEffect(()=>{\n        const url = window.location.pathname.split(\"/\");\n        setId(url[(url.length)-1])\n        if(id){\n            async function dataFromApi(){\n                const data = await fetch(`https://academics.newtonschool.co/api/v1/ottx/show/${id}`,{\n                    method:\"GET\",\n                    headers:{\n                        'accept' : \"application/json\",\n                        'projectID' : valueFromContext.projectId,\n                        'Authorization' : `Bearer ${valueFromContext.jwt}`\n                    }\n\n                });\n                let res = await data.json();\n                if(res.status == \"success\"){\n                    setDetail(res);\n                }\n                else{\n                    // navigate(\"/error\");\n                }\n            }\n            dataFromApi();\n        }\n    },[])\n    if(detail){\n        console.log(detail);\n        return(\n            <div className={styles.poster}>\n                <img className={styles.image} src={detail.data.thumbnail}/>\n                \n                {/* <video>\n                    <source src={detail.data.video_url}/>\n                </video> */}\n            </div>\n        )\n    }\n    else{\n        return(\n            <h1>Loading...</h1>\n        )\n    }\n}"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AACvD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,MAAM,MAAM,+BAA+B;AAElD,OAAOC,kBAAkB,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC3C,eAAe,SAASC,WAAWA,CAAA,EAAE;EAAAC,EAAA;EACjC,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAMQ,gBAAgB,GAAGT,UAAU,CAACG,kBAAkB,CAAC;EACvDM,gBAAgB,CAACC,GAAG,GAAG,6KAA6K;EACpM,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACe,EAAE,EAACC,KAAK,CAAC,GAAGhB,QAAQ,CAAC,0BAA0B,CAAC;EACvDC,SAAS,CAAC,MAAI;IACV,MAAMgB,GAAG,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC;IAC/CL,KAAK,CAACC,GAAG,CAAEA,GAAG,CAACK,MAAM,GAAE,CAAC,CAAC,CAAC;IAC1B,IAAGP,EAAE,EAAC;MACF,eAAeQ,WAAWA,CAAA,EAAE;QACxB,MAAMC,IAAI,GAAG,MAAMC,KAAK,CAAE,sDAAqDV,EAAG,EAAC,EAAC;UAChFW,MAAM,EAAC,KAAK;UACZC,OAAO,EAAC;YACJ,QAAQ,EAAG,kBAAkB;YAC7B,WAAW,EAAGhB,gBAAgB,CAACiB,SAAS;YACxC,eAAe,EAAI,UAASjB,gBAAgB,CAACC,GAAI;UACrD;QAEJ,CAAC,CAAC;QACF,IAAIiB,GAAG,GAAG,MAAML,IAAI,CAACM,IAAI,CAAC,CAAC;QAC3B,IAAGD,GAAG,CAACE,MAAM,IAAI,SAAS,EAAC;UACvBjB,SAAS,CAACe,GAAG,CAAC;QAClB,CAAC,MACG;UACA;QAAA;MAER;MACAN,WAAW,CAAC,CAAC;IACjB;EACJ,CAAC,EAAC,EAAE,CAAC;EACL,IAAGV,MAAM,EAAC;IACNmB,OAAO,CAACC,GAAG,CAACpB,MAAM,CAAC;IACnB,oBACIN,OAAA;MAAK2B,SAAS,EAAE9B,MAAM,CAAC+B,MAAO;MAAAC,QAAA,eAC1B7B,OAAA;QAAK2B,SAAS,EAAE9B,MAAM,CAACiC,KAAM;QAACC,GAAG,EAAEzB,MAAM,CAACW,IAAI,CAACe;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAK1D,CAAC;EAEd,CAAC,MACG;IACA,oBACIpC,OAAA;MAAA6B,QAAA,EAAI;IAAU;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAE3B;AACJ;AAAClC,EAAA,CAhDuBD,WAAW;EAAA,QACdL,WAAW;AAAA;AAAAyC,EAAA,GADRpC,WAAW;AAAA,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}